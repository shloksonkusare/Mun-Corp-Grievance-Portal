import i18n from 'i18next';
import { initReactI18next } from 'react-i18next';
import LanguageDetector from 'i18next-browser-languagedetector';

// Translation resources - Enhanced
const resources = {
  en: {
    translation: {
      // Common
      app_name: 'Grievance Portal',
      admin_dashboard: 'Admin Dashboard',
      loading: 'Loading...',
      submit: 'Submit',
      cancel: 'Cancel',
      confirm: 'Confirm',
      back: 'Back',
      next: 'Next',
      save: 'Save',
      close: 'Close',
      search: 'Search',
      filter: 'Filter',
      filters: 'Filters',
      reset: 'Reset',
      view: 'View',
      edit: 'Edit',
      delete: 'Delete',
      yes: 'Yes',
      no: 'No',
      continue: 'Continue',
      decline: 'Decline',
      accept_continue: 'Accept & Continue',
      try_again: 'Try Again',
      refresh: 'Refresh',
      share: 'Share',
      step: 'Step',
      of: 'of',
      logout: 'Logout',
      
      // Connectivity
      offline: 'Offline',
      online: 'Online',
      excellent: 'Excellent',
      good: 'Good',
      poor: 'Poor',
      weak: 'Weak',
      you_are_offline: 'You are offline',
      offline_message: 'Your data will be saved and submitted when you reconnect.',
      offline_submit_warning: 'You are offline. Your complaint will be submitted when you reconnect.',
      
      // GPS
      gps_ready: 'GPS Ready',
      gps_error: 'GPS Error',
      gps_idle: 'GPS Idle',
      acquiring_gps: 'Acquiring GPS...',
      accuracy_excellent: 'Excellent',
      accuracy_good: 'Good',
      accuracy_fair: 'Fair',
      accuracy_poor: 'Poor',
      
      // Consent
      consent_title: 'Permissions Required',
      consent_subtitle: 'We need your consent to proceed',
      consent_intro: 'This application requires access to the following:',
      camera_permission: 'Camera Access',
      camera_permission_desc: 'To capture photos of the issue',
      camera_permission_details: 'Photos are only used for complaint documentation.',
      location_permission: 'Location Access',
      location_permission_desc: 'To automatically detect the issue location',
      location_permission_details: 'Your location helps us route complaints to the right department.',
      data_usage: 'Data Usage',
      data_usage_desc: 'To process and track your complaint',
      data_usage_details: 'Your data is securely stored and used only for complaint resolution.',
      view_privacy_details: 'View privacy details',
      hide_details: 'Hide details',
      privacy_summary: 'Privacy Summary',
      privacy_point_1: 'Your data is encrypted and stored securely',
      privacy_point_2: 'Photos are used only for complaint documentation',
      privacy_point_3: 'Location is used to route complaints to correct authorities',
      privacy_point_4: 'You can request data deletion anytime',
      consent_checkbox_text: 'I understand and agree to the data collection and usage terms',
      
      // Error Screens
      camera_access_denied: 'Camera Access Denied',
      camera_denied_message: 'Please allow camera access to capture photos of the issue.',
      camera_instruction_1: 'Open your device settings',
      camera_instruction_2: 'Find this app in the permissions section',
      camera_instruction_3: 'Enable camera access',
      location_access_denied: 'Location Access Denied',
      location_denied_message: 'Please allow location access to detect the issue location.',
      location_instruction_1: 'Open your device settings',
      location_instruction_2: 'Find this app in the permissions section',
      location_instruction_3: 'Enable location access',
      network_error: 'Network Error',
      network_error_message: 'Please check your internet connection and try again.',
      network_instruction_1: 'Check your WiFi or mobile data connection',
      network_instruction_2: 'Try refreshing the page',
      upload_failed: 'Upload Failed',
      upload_failed_message: 'Failed to upload your complaint. Please try again.',
      something_went_wrong: 'Something Went Wrong',
      generic_error_message: 'An unexpected error occurred. Please try again.',
      how_to_fix: 'How to fix this:',
      open_settings: 'Open Settings',
      
      // Permission inline
      camera_required_title: 'Camera Access Required',
      camera_required_desc: 'We need camera access to capture the issue photo.',
      location_required_title: 'Location Access Required',
      location_required_desc: 'We need location access to detect where the issue is.',
      grant_permission: 'Grant Permission',
      not_now: 'Not Now',
      
      // Steps
      step_capture: 'Capture',
      step_location: 'Location',
      step_details: 'Details',
      step_review: 'Review',
      take_photo: 'Take photo',
      detect_gps: 'Detect GPS',
      add_info: 'Add info',
      
      // Submission Flow
      new_complaint: 'New Complaint',
      capture_issue_photo: 'Capture the Issue',
      capture_instruction: 'Take a clear photo of the problem you want to report',
      photo_captured: 'Photo Captured',
      retake_photo: 'Retake Photo',
      confirm_location: 'Confirm Location',
      location_instruction: 'Verify that the detected location is correct',
      complaint_details: 'Complaint Details',
      details_instruction: 'Select a category and optionally add more details',
      select_category: 'Select Category',
      description_optional: 'Description (Optional)',
      description_placeholder: 'Describe the issue in more detail...',
      review_complaint: 'Review Your Complaint',
      review_instruction: 'Please verify all details before submitting',
      complaint_preview: 'Complaint Preview',
      review_before_submit: 'Review all details before submitting',
      captured_image: 'Captured image',
      location: 'Location',
      edit_location: 'Edit location',
      category: 'Category',
      change_category: 'Change category',
      description: 'Description',
      edit_description: 'Edit description',
      no_description: 'No description provided',
      submitting: 'Submitting',
      submit_complaint: 'Submit Complaint',
      saved_for_later: 'Saved for later submission',
      draft_restored: 'Previous draft restored',
      complaint_submitted_toast: 'Complaint submitted successfully!',
      submission_failed: 'Submission failed. Please try again.',
      
      // Success Screen
      complaint_submitted_success: 'Complaint Submitted!',
      complaint_submitted_message: 'Your complaint has been registered successfully.',
      your_complaint_id: 'Your Complaint ID',
      copy_to_clipboard: 'Copy to clipboard',
      copied_to_clipboard: 'Copied to clipboard!',
      estimated_resolution: 'Estimated Resolution',
      estimated_3_5_days: '3-5 working days',
      quick_tracking_qr: 'Quick Tracking QR Code',
      scan_qr_to_track: 'Scan this QR code anytime to check status',
      save_qr: 'Save QR',
      what_happens_next: 'What happens next?',
      next_step_1: 'Your complaint will be reviewed by the relevant department',
      next_step_2: 'You will receive WhatsApp updates on status changes',
      next_step_3: 'Track status anytime using your Complaint ID',
      track_complaint_status: 'Track Complaint Status',
      submit_another_complaint: 'Submit Another Complaint',
      
      // Tracking Page
      track_complaint: 'Track Complaint',
      enter_complaint_id: 'Enter Complaint ID',
      complaint_id: 'Complaint ID',
      searching: 'Searching...',
      complaint_not_found: 'Complaint Not Found',
      check_complaint_id: 'Please check your complaint ID and try again.',
      refresh_status: 'Refresh Status',
      refreshed: 'Status refreshed',
      status_timeline: 'Status Timeline',
      current_status: 'Current',
      quick_reference: 'Quick Reference',
      scan_to_track: 'Scan to track this complaint',
      copy_id: 'Copy ID',
      need_help: 'Need Help?',
      contact_support: 'Contact Support',
      faq: 'Frequently Asked Questions',
      submit_new_complaint: 'Submit a new complaint',
      enter_complaint_id_to_track: 'Enter your Complaint ID to track',
      tracking_instruction: 'You received your complaint ID via WhatsApp after submission',
      submitted_on: 'Submitted On',
      
      // Categories
      categories: {
        roads: 'Roads & Potholes',
        water: 'Water Supply',
        electricity: 'Electricity',
        sanitation: 'Sanitation',
        public_safety: 'Public Safety',
        environment: 'Environment',
        transportation: 'Public Transport',
        healthcare: 'Healthcare',
        education: 'Education',
        other: 'Other',
      },
      
      // Status
      status: {
        pending: 'Pending',
        assigned: 'Assigned',
        in_progress: 'In Progress',
        resolved: 'Resolved',
        rejected: 'Rejected',
        closed: 'Closed',
      },
      
      // Admin Dashboard
      total_complaints: 'Total Complaints',
      pending: 'Pending',
      in_progress: 'In Progress',
      resolved: 'Resolved',
      overdue: 'Overdue',
      today: 'Today',
      remaining: 'remaining',
      search_complaints: 'Search complaints by ID, location, or category...',
      all_status: 'All Status',
      all_categories: 'All Categories',
      all_priority: 'All Priority',
      all_sla: 'All SLA',
      urgent: 'Urgent',
      on_track: 'On Track',
      clear_all_filters: 'Clear all filters',
      no_complaints_found: 'No complaints found',
      id: 'ID',
      sla: 'SLA',
      date: 'Date',
      actions: 'Actions',
      showing: 'Showing',
      previous: 'Previous',
      view_details: 'View Details',
      legend: 'Legend',
      failed_to_fetch: 'Failed to fetch complaints',
      selected: 'selected',
      assign: 'Assign',
      resolve: 'Resolve',
      reject: 'Reject',
      bulk_action_success: 'Bulk action completed',
      bulk_action_failed: 'Bulk action failed',
      priority: 'Priority',
      
      // Duplicate Warning
      duplicate_title: 'Similar Complaint Found',
      duplicate_message: 'We found similar complaints in this area. Would you like to view them or continue with your submission?',
      view_similar: 'View Similar',
      continue_anyway: 'Continue Anyway',
      
      // Home Page
      home_title: 'Report Public Grievances',
      home_subtitle: 'Help improve your community by reporting issues that need attention',
      home_cta: 'File a Complaint',
      home_track: 'Track Your Complaint',
      how_it_works: 'How It Works',
      step_1_title: 'Capture Issue',
      step_1_desc: 'Take a photo of the problem using your camera',
      step_2_title: 'Auto Detect Location',
      step_2_desc: 'GPS automatically captures the exact location',
      step_3_title: 'Submit & Track',
      step_3_desc: 'Get a unique ID and receive WhatsApp updates',
    },
  },
  hi: {
    translation: {
      app_name: 'शिकायत पोर्टल',
      admin_dashboard: 'व्यवस्थापक डैशबोर्ड',
      loading: 'लोड हो रहा है...',
      submit: 'जमा करें',
      cancel: 'रद्द करें',
      confirm: 'पुष्टि करें',
      back: 'पीछे',
      next: 'आगे',
      continue: 'जारी रखें',
      decline: 'अस्वीकार करें',
      accept_continue: 'स्वीकार करें और जारी रखें',
      try_again: 'पुनः प्रयास करें',
      logout: 'लॉग आउट',
      
      // Consent
      consent_title: 'अनुमतियाँ आवश्यक',
      consent_subtitle: 'आगे बढ़ने के लिए हमें आपकी सहमति चाहिए',
      consent_intro: 'इस एप्लिकेशन को निम्नलिखित एक्सेस की आवश्यकता है:',
      camera_permission: 'कैमरा एक्सेस',
      camera_permission_desc: 'समस्या की तस्वीर लेने के लिए',
      location_permission: 'लोकेशन एक्सेस',
      location_permission_desc: 'समस्या का स्थान स्वचालित रूप से पता लगाने के लिए',
      data_usage: 'डेटा उपयोग',
      data_usage_desc: 'आपकी शिकायत को प्रोसेस और ट्रैक करने के लिए',
      consent_checkbox_text: 'मैं डेटा संग्रह और उपयोग की शर्तों को समझता/समझती हूं और सहमत हूं',
      
      // Steps
      step_capture: 'फ़ोटो',
      step_location: 'स्थान',
      step_details: 'विवरण',
      step_review: 'समीक्षा',
      new_complaint: 'नई शिकायत',
      capture_issue_photo: 'समस्या की तस्वीर लें',
      capture_instruction: 'जिस समस्या की रिपोर्ट करना चाहते हैं उसकी स्पष्ट तस्वीर लें',
      photo_captured: 'फ़ोटो कैप्चर',
      retake_photo: 'दोबारा लें',
      confirm_location: 'स्थान की पुष्टि करें',
      complaint_details: 'शिकायत विवरण',
      select_category: 'श्रेणी चुनें',
      description_optional: 'विवरण (वैकल्पिक)',
      review_complaint: 'शिकायत की समीक्षा',
      submit_complaint: 'शिकायत जमा करें',
      
      // Success
      complaint_submitted_success: 'शिकायत जमा हो गई!',
      your_complaint_id: 'आपका शिकायत आईडी',
      track_complaint_status: 'शिकायत स्थिति ट्रैक करें',
      submit_another_complaint: 'एक और शिकायत जमा करें',
      
      // Tracking
      track_complaint: 'शिकायत ट्रैक करें',
      enter_complaint_id: 'शिकायत आईडी दर्ज करें',
      status_timeline: 'स्थिति टाइमलाइन',
      
      // Categories
      categories: {
        roads: 'सड़कें और गड्ढे',
        water: 'पानी की आपूर्ति',
        electricity: 'बिजली',
        sanitation: 'स्वच्छता',
        public_safety: 'सार्वजनिक सुरक्षा',
        environment: 'पर्यावरण',
        transportation: 'सार्वजनिक परिवहन',
        healthcare: 'स्वास्थ्य सेवा',
        education: 'शिक्षा',
        other: 'अन्य',
      },
      
      // Status
      status: {
        pending: 'लंबित',
        assigned: 'सौंपा गया',
        in_progress: 'प्रगति में',
        resolved: 'हल हो गया',
        rejected: 'अस्वीकृत',
        closed: 'बंद',
      },
      
      // Home
      home_title: 'सार्वजनिक शिकायतें दर्ज करें',
      home_subtitle: 'उन मुद्दों की रिपोर्ट करके अपने समुदाय को बेहतर बनाने में मदद करें',
      home_cta: 'शिकायत दर्ज करें',
      home_track: 'अपनी शिकायत ट्रैक करें',
    },
  },
  ta: {
    translation: {
      app_name: 'குறை தீர்ப்பு போர்டல்',
      admin_dashboard: 'நிர்வாகி டாஷ்போர்டு',
      loading: 'ஏற்றுகிறது...',
      submit: 'சமர்ப்பிக்க',
      cancel: 'ரத்து செய்',
      continue: 'தொடரவும்',
      decline: 'மறுக்க',
      accept_continue: 'ஏற்று தொடரவும்',
      
      // Categories
      categories: {
        roads: 'சாலைகள்',
        water: 'நீர் வழங்கல்',
        electricity: 'மின்சாரம்',
        sanitation: 'சுகாதாரம்',
        public_safety: 'பொது பாதுகாப்பு',
        environment: 'சுற்றுச்சூழல்',
        transportation: 'போக்குவரத்து',
        healthcare: 'சுகாதார சேவை',
        education: 'கல்வி',
        other: 'மற்றவை',
      },
      
      // Status
      status: {
        pending: 'நிலுவையில்',
        assigned: 'ஒதுக்கப்பட்டது',
        in_progress: 'நடந்து கொண்டிருக்கிறது',
        resolved: 'தீர்க்கப்பட்டது',
        rejected: 'நிராகரிக்கப்பட்டது',
        closed: 'மூடப்பட்டது',
      },
      
      // Home
      home_title: 'பொது குறைகளை புகாரளிக்கவும்',
      home_cta: 'புகார் பதிவு செய்யவும்',
      home_track: 'உங்கள் புகாரை கண்காணிக்கவும்',
    },
  },
};

i18n
  .use(LanguageDetector)
  .use(initReactI18next)
  .init({
    resources,
    fallbackLng: 'en',
    debug: false,
    interpolation: {
      escapeValue: false,
    },
    detection: {
      order: ['localStorage', 'navigator'],
      caches: ['localStorage'],
    },
  });

export default i18n;
